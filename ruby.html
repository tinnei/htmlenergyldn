<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <link href="css/style.css" rel="stylesheet" />
    <link href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,900" rel="stylesheet" />
    <meta property="og:image" content="image/sharing_cover.png" />
    <meta property="og:image:type" content="image/png" />
    <meta property="og:image:width" content="450" />
    <meta property="og:image:height" content="600" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Ruby Annotations</title>
    <style>
    main {
        margin: 2rem;
    }

    figure {
        border: black solid 1px;
        padding: 2rem;
    }

    figcaption {
        border-top: black solid 1px;
    }

    details[open] summary {
        border-bottom: black solid 1px;
        padding-bottom: 5px;
    }

    footer {
        border-top: black solid 1px;
        padding: 1rem;
        margin-top: 2rem;
    }

    .monobold {
        font-family: 'Courier New', monospace;
        font-weight: bold
    }

    .energy {
        color: #0aec43;
        filter: drop-shadow(0 0 1px lime);
    }
    </style>
</head>


<!-- HI INSPECTOR! THIS PAGE IS FOR HTML.ENERGY -->

<body>
<main>
<h1><img alt="<ruby> is great!" src="image/rubybanner.png" /></h1>
<p>The <code>&lt;ruby&gt;</code> element can be used to add annotations to text. It is most commonly used for showing pronunciation of East Asian characters. However, perhaps we could use it for other things too?</p>
<p>It could be useful for translations (as suggested by <a href="https://shkspr.mobi/blog/2022/07/simultaneous-translation-in-html/">Terence Eden</a>):</p>
<figure>
<blockquote lang="la">
    <ruby>veni<rp>(</rp><rt lang="en">I came</rt><rp>)</rp>, vidi<rp>(</rp><rt lang="en">I saw</rt><rp>)</rp>, vici<rp>(</rp><rt lang="en">I conquered</rt><rp>)</rp></ruby>
</blockquote>
<figcaption><cite>Julius Caesar</cite></figcaption>
</figure>
<br />
<p>Perhaps we could use it for annotating code:</p>
<style>
    .larger-ruby {
        font-size: 8pt;
    }
</style>
<figure>
<pre>
<code>
    <ruby>i  = * ( long * ) &y;<rp>/*</rp><rt class="larger-ruby">reinterprets bits of the float as a long</rt><rp>*/</rp></ruby>                       // evil floating point bit level hacking
    <ruby>i  = 0x5f3759df - ( i >> 1 );<rp>/*</rp><rt class="larger-ruby">abuses floating point w/ bitwise operations</rt><rp>*/</rp></ruby>               // what the fuck?
    <ruby>y  = * ( float * ) &i;<rp>/*</rp><rt class="larger-ruby">reinterprets bits back to a float</rt><rp>*/</rp></ruby>
</code>
</pre>
<figcaption>Section of the fast inverse square root (from <cite>Quake III</cite>), annotated with ruby.</figcaption>
</figure>
<br />
<p>This is cool. We could alternatively use CSS to grow it on hover:</p>
<style>
.ruby-grow-on-hover:hover rt {
    font-size: 10pt;
}
</style>
<figure>
<pre>
<code>
    <ruby class="ruby-grow-on-hover">i  = * ( long * ) &y;<rp>/*</rp><rt>reinterprets bits of the float as a long</rt><rp>*/</rp></ruby>                       // evil floating point bit level hacking
    <ruby class="ruby-grow-on-hover">i  = 0x5f3759df - ( i >> 1 );<rp>/*</rp><rt>abuses floating point w/ bitwise operations</rt><rp>*/</rp></ruby>               // what the fuck?
    <ruby class="ruby-grow-on-hover">y  = * ( float * ) &i;<rp>/*</rp><rt>reinterprets bits back to a float</rt><rp>*/</rp></ruby>
</code>
</pre>
<figcaption>Code annotated with ruby that <strong>grows on hover</strong>.</figcaption>
</figure>
<br />
<p>Or, instead of growing the ruby itself, maybe we could <em>expand</em> it to show more details:</p>
<figure>
    <pre>
<code>
    <ruby>i  = 0x5f3759df - ( i >> 1 );<rp>/*</rp><rt class="larger-ruby"><details><summary>abuses floating point w/ bitwise operations</summary>
    <p>Yeah tbh I have no clue what's going on here.</p>
    <p>The <a href="https://en.wikipedia.org/wiki/Fast_inverse_square_root">Wikipedia article</a> has a lot of words but not enough to make me understand.</p></details></rt><rp>*/</rp></ruby>               // what the fuck?
</code>
</pre>
<figcaption>Code annotated with ruby that <strong>expands on click</strong>.</figcaption>
</figure>
However, when doing this, be careful not to make the expanded one too wide, to avoid moving the text too much.
<br />
<br />
What will you use &lt;ruby&gt; for?
</main>

<footer>
<p>made with <span class="monobold" style="color: red">&lt;3</span> &amp; <a href="https://html.energy/" class="monobold energy">HTML ENERGY</a> by <a href="https://willbl.dev/" class="monobold" style="color: grey">will</a></p>

<a href="index.html" class="monobold energy">HTML ENERGY LDN</a>
</footer>

</body>

<script>
</script>

</html>
