<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <link href="css/style.css" rel="stylesheet" />
    <link href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,900" rel="stylesheet" />
    <meta property="og:image" content="image/sharing_cover.png" />
    <meta property="og:image:type" content="image/png" />
    <meta property="og:image:width" content="450" />
    <meta property="og:image:height" content="600" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Ruby Annotations</title>
    <style>
    main {
        margin: 2rem;
    }

    figure {
        border: black solid 1px;
        padding: 2rem;
    }
    </style>
</head>


<!-- HI INSPECTOR! THIS PAGE IS FOR HTML.ENERGY -->

<body>
<main>
<h1><img alt="<ruby> is great!" src="img/rubybanner.png" /></h1>
<p>The <code>&lt;ruby&gt;</code> element can be used to add annotations to text. It is most commonly used for showing pronunciation of East Asian characters. However, perhaps we could use it for other things too?</p>
<p>It could be useful for translations (as suggested by <a href="https://shkspr.mobi/blog/2022/07/simultaneous-translation-in-html/">Terence Eden</a>):</p>
<figure>
<blockquote lang="la">
    <ruby>veni<rp>(</rp><rt lang="en">I came</rt><rp>)</rp>, vidi<rp>(</rp><rt lang="en">I saw</rt><rp>)</rp>, vici<rp>(</rp><rt lang="en">I conquered</rt><rp>)</rp></ruby>
</blockquote>
<figcaption><cite>Julius Caesar</cite></figcaption>
</figure>
<br />
<p>Perhaps we could use it for annotating code:</p>
<style>
    .larger-ruby {
        font-size: 8pt;
    }
</style>
<figure>
<pre>
<code>
    <ruby>i  = * ( long * ) &y;<rp>/*</rp><rt class="larger-ruby">reinterprets bits of the float as a long</rt><rp>*/</rp></ruby>                       // evil floating point bit level hacking
    <ruby>i  = 0x5f3759df - ( i >> 1 );<rp>/*</rp><rt class="larger-ruby">abuses floating point w/ bitwise operations</rt><rp>*/</rp></ruby>               // what the fuck?
    <ruby>y  = * ( float * ) &i;<rp>/*</rp><rt class="larger-ruby">reinterprets bits back to a float</rt><rp>*/</rp></ruby>
</code>
</pre>
<figcaption>Section of the fast inverse square root (from <cite>Quake III</cite>), annotated with ruby.</figcaption>
</figure>
<br />
<p>This is cool. We could alternatively use CSS to grow it on hover:</p>
<style>
.ruby-grow-on-hover:hover rt {
    font-size: 10pt;
}
</style>
<figure>
<pre>
<code>
    <ruby class="ruby-grow-on-hover">i  = * ( long * ) &y;<rp>/*</rp><rt>reinterprets bits of the float as a long</rt><rp>*/</rp></ruby>                       // evil floating point bit level hacking
    <ruby class="ruby-grow-on-hover">i  = 0x5f3759df - ( i >> 1 );<rp>/*</rp><rt>abuses floating point w/ bitwise operations</rt><rp>*/</rp></ruby>               // what the fuck?
    <ruby class="ruby-grow-on-hover">y  = * ( float * ) &i;<rp>/*</rp><rt>reinterprets bits back to a float</rt><rp>*/</rp></ruby>
</code>
</pre>
<figcaption>Code annotated with ruby that <strong>grows on hover</strong>.</figcaption>
</figure>
<br />
<p>Or, instead of growing the ruby itself, maybe we could <em>expand</em> it to show more details:</p>
<figure>
    <ruby>This is some very confusing text<rp>(</rp><rt class="larger-ruby"><details><summary>Brief explanation</summary><p>This is a longer explanation, with more detail ðŸ˜€</p></details></rt><rp>)</rp></ruby>
</figure>
</main>
</body>

<script>
</script>

</html>
